{"version":3,"sources":["webpack:///./src/components/actions/CreateItem.vue?6a5f","webpack:///./src/components/actions/CreateItem.vue?5739","webpack:///src/components/actions/CreateItem.vue","webpack:///./src/components/actions/CreateItem.vue","webpack:///./src/components/actions/CreateItem.vue?c3e0"],"names":["actions_CreateItemvue_type_script_lang_js_","name","components","TextField","TextAreaField","SelectField","props","fromLocation","type","Object","default","onClose","Function","editMode","Boolean","disableLocation","editData","[object Object]","form","undefined","description","amount","due","location","this","id","dialog","mdc_dialog","uniqid_default","locationOptions","document","getElementById","firebase","then","locations","docs","forEach","loc","data","push","methods","open","close","event_bus","$emit","querySelector","click","item","itemId","closeAndReload","component","componentNormalizer","_vm","_h","$createElement","_c","_self","on","_t","_v","staticClass","attrs","role","aria-modal","aria-labelledby","aria-describedby","_s","aria-label","save","submit","createItem","placeholder","required","field-id","model","value","callback","$$v","expression","rows","min","options","disabled","staticStyle","visibility","_e","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_2_2_node_modules_sass_loader_lib_loader_js_ref_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_CreateItem_vue_vue_type_style_index_0_id_44e3b596_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n"],"mappings":"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","file":"main~7a2e641b.e9f7b58c34a478b8bbe9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{on:{\"click\":_vm.open}},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"mdc-dialog mdc-dialog-full\",attrs:{\"id\":_vm.id,\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"create storage\",\"aria-describedby\":\"create storage\"}},[_c('div',{staticClass:\"mdc-dialog__container\"},[_c('div',{staticClass:\"mdc-dialog__surface\"},[_c('header',{staticClass:\" mdc-top-app-bar mdc-top-app-bar--short\"},[_c('div',{staticClass:\"mdc-top-app-bar__row\"},[_c('section',{staticClass:\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start\"},[_c('button',{staticClass:\"material-icons mdc-top-app-bar__navigation-icon--unbounded\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"arrow_back\")]),_vm._v(\" \"),_c('span',{staticClass:\"mdc-top-app-bar__title\"},[_vm._v(_vm._s(_vm.editMode ? 'Modifica' : 'Aggiungi'))])]),_vm._v(\" \"),_c('section',{staticClass:\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end\"},[_c('button',{staticClass:\"mdc-top-app-bar__action-item--unbounded\",attrs:{\"type\":\"button\",\"aria-label\":\"save\"},on:{\"click\":_vm.save}},[_vm._v(\"salva\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"mdc-dialog__content\",attrs:{\"id\":\"create-storage-content\"}},[(_vm.dialog.isOpen)?_c('form',{staticClass:\"full-width-form\",on:{\"submit\":_vm.createItem}},[_c('TextField',{attrs:{\"placeholder\":\"Nome\",\"required\":\"\",\"type\":\"text\",\"field-id\":\"name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('TextAreaField',{attrs:{\"placeholder\":\"Descrizione\",\"field-id\":\"description\",\"rows\":\"3\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}}),_vm._v(\" \"),_c('TextField',{attrs:{\"min\":\"0\",\"placeholder\":\"Quantità\",\"required\":\"\",\"type\":\"number\",\"field-id\":\"amount\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_vm._v(\" \"),_c('TextField',{attrs:{\"placeholder\":\"Scadenza\",\"required\":\"\",\"type\":\"date\",\"field-id\":\"due\"},model:{value:(_vm.due),callback:function ($$v) {_vm.due=$$v},expression:\"due\"}}),_vm._v(\" \"),_c('SelectField',{attrs:{\"options\":_vm.locationOptions,\"placeholder\":\"Sezione\",\"required\":\"\",\"disabled\":_vm.disableLocation,\"field-id\":\"location\"},model:{value:(_vm.location),callback:function ($$v) {_vm.location=$$v},expression:\"location\"}}),_vm._v(\" \"),_c('button',{staticStyle:{\"visibility\":\"hidden\"},attrs:{\"type\":\"submit\",\"id\":\"save-button\"}},[_vm._v(\"salva\")])],1):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"mdc-dialog__scrim\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateItem.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <div @click=\"open\">\n            <slot></slot>\n        </div>\n        <div class=\"mdc-dialog mdc-dialog-full\"\n             :id=\"id\"\n             role=\"dialog\"\n             aria-modal=\"true\"\n             aria-labelledby=\"create storage\"\n             aria-describedby=\"create storage\">\n            <div class=\"mdc-dialog__container\">\n                <div class=\"mdc-dialog__surface\">\n                    <header class=\" mdc-top-app-bar mdc-top-app-bar--short\">\n                        <div class=\"mdc-top-app-bar__row\">\n                            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start\">\n                                <button type=\"button\" @click=\"close\" class=\"material-icons mdc-top-app-bar__navigation-icon--unbounded\">arrow_back</button>\n                                <span class=\"mdc-top-app-bar__title\">{{ editMode ? 'Modifica' : 'Aggiungi'}}</span>\n                            </section>\n                            <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end\">\n                                <button type=\"button\" @click=\"save\" class=\"mdc-top-app-bar__action-item--unbounded\" aria-label=\"save\">salva</button>\n                            </section>\n                        </div>\n                    </header>\n                    <div class=\"mdc-dialog__content\" id=\"create-storage-content\">\n                        <form class=\"full-width-form\" @submit=\"createItem\" v-if=\"dialog.isOpen\">\n                            <TextField v-model=\"name\" placeholder=\"Nome\" required type=\"text\" field-id=\"name\"/>\n                            <TextAreaField v-model=\"description\" placeholder=\"Descrizione\" field-id=\"description\" rows=\"3\" />\n                            <TextField v-model=\"amount\" min=\"0\" placeholder=\"Quantità\" required type=\"number\" field-id=\"amount\"/>\n                            <TextField v-model=\"due\" placeholder=\"Scadenza\" required type=\"date\" field-id=\"due\"/>\n                            <SelectField v-model=\"location\" :options=\"locationOptions\" placeholder=\"Sezione\" required :disabled=\"disableLocation\" field-id=\"location\"/>\n                            <button type=\"submit\" id=\"save-button\" style=\"visibility: hidden\">salva</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class=\"mdc-dialog__scrim\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\n  import uniqid from 'uniqid';\n  import { MDCDialog } from '@material/dialog';\n  import { addItemAction, editItemAction, moveItemAction } from '../../services/firebase';\n  import EventBus from '../../services/event-bus';\n  import { getAllLocationsAction } from '../../services/firebase';\n\n  import TextField from \"../shared/TextField.vue\";\n  import SelectField from \"../shared/SelectField.vue\";\n  import TextAreaField from \"../shared/TextAreaField.vue\";\n\n  export default {\n    name: \"CreateItem\",\n    components: {\n      TextField,\n      TextAreaField,\n      SelectField,\n    },\n    props: {\n      fromLocation: {\n        type: Object,\n        default: () => ({})\n      },\n      onClose: Function,\n      editMode: Boolean,\n      disableLocation: Boolean,\n      editData: Object,\n    },\n    data() {\n      let form = {\n        name: undefined,\n        description: undefined,\n        amount: undefined,\n        due:  undefined,\n        location: this.fromLocation.id,\n      };\n\n      if (this.editMode) {\n        form = { ...form, ...this.editData }\n      }\n\n      return {\n        dialog: MDCDialog,\n        id: uniqid(),\n        locationOptions: [{}],\n        ...form,\n      }\n    },\n    mounted() {\n      this.dialog = new MDCDialog(document.getElementById(this.id));\n      getAllLocationsAction().then((locations) => {\n        locations.docs.forEach((location) => {\n          const loc = location.data();\n          this.locationOptions.push({ id: location.id, name: loc.name })\n        })\n      });\n    },\n    methods: {\n      open() {\n        this.dialog.open();\n      },\n      close() {\n        this.dialog.close();\n      },\n      closeAndReload() {\n        EventBus.$emit('reloadItems', this.fromLocation.id);\n        this.close();\n      },\n      save() {\n        document.querySelector('#save-button').click();\n      },\n      createItem() {\n        const item = {\n          name: this.name,\n          description: this.description,\n          amount: this.amount,\n          due: this.due,\n          location: this.location,\n        };\n        if (this.editMode) {\n          editItemAction(this.fromLocation.id, this.editData.itemId, item).then(() => {\n            if (this.location !== this.fromLocation.id) {\n              moveItemAction(this.fromLocation.id, this.location, this.editData.itemId, item).then(() => this.closeAndReload() )\n            } else {\n              this.closeAndReload()\n            }\n          });\n        } else {\n          addItemAction(this.location || this.fromLocation.id, item).then(() => this.closeAndReload());\n        }\n      }\n    },\n  }\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"../.././variables.scss\";\n\n    .mdc-top-app-bar__navigation-icon--unbounded,\n    .mdc-top-app-bar__action-item--unbounded {\n        color: $white;\n    }\n\n    .mdc-dialog__content {\n        margin-top: 60px;\n        text-align: left;\n    }\n</style>\n","import { render, staticRenderFns } from \"./CreateItem.vue?vue&type=template&id=44e3b596&scoped=true&\"\nimport script from \"./CreateItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreateItem.vue?vue&type=style&index=0&id=44e3b596&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44e3b596\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--2-2!../../../node_modules/sass-loader/lib/loader.js??ref--2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateItem.vue?vue&type=style&index=0&id=44e3b596&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--2-2!../../../node_modules/sass-loader/lib/loader.js??ref--2-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateItem.vue?vue&type=style&index=0&id=44e3b596&scoped=true&lang=scss&\""],"sourceRoot":""}