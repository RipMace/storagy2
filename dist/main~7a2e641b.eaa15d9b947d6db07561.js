(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{14:function(t,e,i){"use strict";var a=i(34),o=i.n(a),s=i(15),d=i(3),n=i(4),c=i(8),l=i(191),r=i(192),p={name:"CreateItem",components:{TextField:c.a,TextAreaField:r.a,SelectField:l.a},props:{fromLocation:{type:Object,default:()=>({})},onClose:Function,editMode:Boolean,disableLocation:Boolean,editData:Object},data(){let t={name:void 0,description:void 0,amount:void 0,due:void 0,location:this.fromLocation.id};return this.editMode&&(t={...t,...this.editData}),{dialog:s.MDCDialog,id:o()(),locationOptions:[{}],...t}},mounted(){this.dialog=new s.MDCDialog(document.getElementById(this.id)),Object(d.g)().then(t=>{t.docs.forEach(t=>{const e=t.data();this.locationOptions.push({id:t.id,name:e.name})})})},methods:{open(){this.dialog.open()},close(){this.dialog.close()},closeAndReload(){n.a.$emit("reloadItems",this.fromLocation.id),this.close()},save(){document.querySelector("#save-button").click()},createItem(){const t={name:this.name,description:this.description,amount:this.amount,due:this.due,location:this.location};this.editMode?Object(d.d)(this.fromLocation.id,this.editData.itemId,t).then(()=>{this.location!==this.fromLocation.id?Object(d.i)(this.fromLocation.id,this.location,this.editData.itemId,t).then(()=>this.closeAndReload()):this.closeAndReload()}):Object(d.a)(this.location||this.fromLocation.id,t).then(()=>this.closeAndReload())}}},m=(i(209),i(1)),u=Object(m.a)(p,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{on:{click:t.open}},[t._t("default")],2),t._v(" "),i("div",{staticClass:"mdc-dialog mdc-dialog-full",attrs:{id:t.id,role:"dialog","aria-modal":"true","aria-labelledby":"create storage","aria-describedby":"create storage"}},[i("div",{staticClass:"mdc-dialog__container"},[i("div",{staticClass:"mdc-dialog__surface"},[i("header",{staticClass:" mdc-top-app-bar mdc-top-app-bar--short"},[i("div",{staticClass:"mdc-top-app-bar__row"},[i("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},[i("button",{staticClass:"material-icons mdc-top-app-bar__navigation-icon--unbounded",attrs:{type:"button"},on:{click:t.close}},[t._v("arrow_back")]),t._v(" "),i("span",{staticClass:"mdc-top-app-bar__title"},[t._v(t._s(t.editMode?"Modifica":"Aggiungi"))])]),t._v(" "),i("section",{staticClass:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end"},[i("button",{staticClass:"mdc-top-app-bar__action-item--unbounded",attrs:{type:"button","aria-label":"save"},on:{click:t.save}},[t._v("salva")])])])]),t._v(" "),i("div",{staticClass:"mdc-dialog__content",attrs:{id:"create-storage-content"}},[t.dialog.isOpen?i("form",{staticClass:"full-width-form",on:{submit:t.createItem}},[i("TextField",{attrs:{placeholder:"Nome",required:"",type:"text","field-id":"name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),i("TextAreaField",{attrs:{placeholder:"Descrizione","field-id":"description",rows:"3"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),i("TextField",{attrs:{min:"0",placeholder:"Quantit√†",required:"",type:"number","field-id":"amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v(" "),i("TextField",{attrs:{placeholder:"Scadenza",required:"",type:"date","field-id":"due"},model:{value:t.due,callback:function(e){t.due=e},expression:"due"}}),t._v(" "),i("SelectField",{attrs:{options:t.locationOptions,placeholder:"Sezione",required:"",disabled:t.disableLocation,"field-id":"location"},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),t._v(" "),i("button",{staticStyle:{visibility:"hidden"},attrs:{type:"submit",id:"save-button"}},[t._v("salva")])],1):t._e()])])]),t._v(" "),i("div",{staticClass:"mdc-dialog__scrim"})])])},[],!1,null,"44e3b596",null);e.a=u.exports},209:function(t,e,i){"use strict";var a=i(24);i.n(a).a},24:function(t,e,i){}}]);
//# sourceMappingURL=main~7a2e641b.eaa15d9b947d6db07561.js.map