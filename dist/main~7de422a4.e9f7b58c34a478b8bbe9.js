(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{184:function(t,e,a){"use strict";var i=a(11),o=a(7),n=a(34),s=a(35),c=a(4),r=a(3),d={name:"Items",components:{Loading:o.a,Toolbar:i.a,NoItems:n.a,ItemsList:s.a},data:()=>({itemsList:[],location:{},textFilter:"",sort:{key:"name",type:"String"},loading:!0,noItems:!0}),mounted(){c.a.$on("reloadItems",this.getAllLocationItems)},methods:{getAllLocationItems(t){this.loading=!0,Object(r.f)(t).then(t=>{this.loading=!1,this.noItems=t.empty,this.itemsList=t.docs.map(t=>({itemId:t.id,...t.data()}))})},getLocation(t){Object(r.h)(t).then(e=>{this.location={id:t,...e.data()}})},changeTextFilter(t){this.textFilter=t.target.value},changeSort(t){this.sort=t}},created(){this.getLocation(this.$route.params.id),this.getAllLocationItems(this.$route.params.id)}},m=a(1),l=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("Loading"):a("div",[t.noItems?a("NoItems",{attrs:{location:t.location}}):a("div",[a("Toolbar",{attrs:{placeholder:t.location.name,locationId:t.location.id,addAction:"CreateItem",disableLocation:"",changeTextFilter:t.changeTextFilter,changeSort:t.changeSort,goBackRoute:"Category",orderBy:["NAME","DUE","AMOUNT"],currentSort:t.sort}}),t._v(" "),a("ItemsList",{attrs:{location:t.location,items:t.itemsList,textFilter:t.textFilter,sort:t.sort}})],1)],1)},[],!1,null,"0c3f8e01",null);e.a=l.exports},186:function(t,e,a){"use strict";var i=a(11),o=a(7),n=a(34),s=a(35),c=a(4),r=a(3),d={name:"Items",components:{Loading:o.a,Toolbar:i.a,NoItems:n.a,ItemsList:s.a},data:()=>({itemsList:[],textFilter:"",sort:{key:"name",type:"String"},loading:!0,noItems:!0}),mounted(){c.a.$on("reloadItems",this.getAllItems)},methods:{getAllItems(){this.loading=!0,Object(r.e)().then(t=>{this.noItems=!t.length,this.itemsList=t,this.loading=!1})},changeTextFilter(t){this.textFilter=t.target.value},changeSort(t){this.sort=t}},created(){this.getAllItems()}},m=a(1),l=Object(m.a)(d,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("Loading"):a("div",[t.noItems?a("NoItems"):a("div",[a("Toolbar",{attrs:{placeholder:"Storagy",addAction:"CreateItem",editMode:"",changeTextFilter:t.changeTextFilter,changeSort:t.changeSort,orderBy:["NAME","DUE","AMOUNT"],currentSort:t.sort}}),t._v(" "),a("ItemsList",{attrs:{showCategory:"",items:t.itemsList,textFilter:t.textFilter,sort:t.sort}})],1)],1)},[],!1,null,"6f17e774",null);e.a=l.exports},214:function(t,e,a){"use strict";var i=a(28);a.n(i).a},28:function(t,e,a){},35:function(t,e,a){"use strict";var i=a(5),o=a(41),n=a.n(o),s=a(0),c=a.n(s),r=a(12),d=a(4),m=a(3),l=a(10),u=a(38),h={name:"ItemsList",props:{items:Array,showCategory:Boolean,location:Object,textFilter:String,sort:Object},components:{CreateItem:r.a},mounted(){[].map.call(document.querySelectorAll(".mdc-button"),function(t){return new i.MDCRipple(t)}),[].map.call(document.querySelectorAll(".mdc-icon-button"),function(t){const e=new i.MDCRipple(t);return e.unbounded=!0,e});const t=document.getElementById("swipeWrapper");n()(t).on("swipe",()=>this.$router.push({name:"Category"})).get("swipe").set({direction:n.a.DIRECTION_RIGHT})},methods:{moment:t=>c()(t),incrementItem(t){this.editItem({...t,amount:t.amount+1})},decrementItem(t){this.editItem({...t,amount:t.amount-1})},editItem(t){const e=t.itemId,a=t.location||this.location.id;delete t.itemId,delete t.locationName,Object(m.d)(a,e,t).then(()=>d.a.$emit("reloadItems",a))},checkDueDate:t=>Object(l.a)(t)},computed:{evaluatedItems(){const t={...this.sort},e=this.items.filter(t=>t.name.includes(this.textFilter));if(Object.keys(t).length){if("String"===t.type)return Object(u.c)(e,t.key);if("Date"===t.type)return Object(u.a)(e,t.key);if("Number"===t.type)return Object(u.b)(e,t.key)}return e}}},p=(a(214),a(1)),_=Object(p.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swipe-wrapper",attrs:{id:"swipeWrapper"}},[a("ul",{staticClass:"mdc-image-list-grid"},t._l(t.evaluatedItems,function(e){return a("li",{staticClass:"mdc-image-list__item",attrs:{tabindex:"0"}},[a("div",{staticClass:"mdc-card item-card"},[a("div",{class:["mdc-card__primary-action","mdc-ripple-upgraded",{"on-due-date":t.checkDueDate(e.due)}]},[a("div",{staticClass:"item-card__primary"},[a("h2",{staticClass:"item-card__title mdc-typography mdc-typography--headline6"},[t._v("\n                            "+t._s(e.name)+"\n                            "),a("span",{staticClass:"amount"},[t._v("\n                            "+t._s(e.amount)+"\n                        ")])]),t._v(" "),a("h3",{staticClass:"item-card__subtitle mdc-typography mdc-typography--subtitle2"},[t._v("\n                            Scadenza: "+t._s(t.moment(e.due).format("DD/MM/YYYY"))+"\n                            "),a("br"),t._v("\n                            Sezione: "+t._s(t.showCategory?e.locationName:"")+"\n                        ")])]),t._v(" "),a("div",{staticClass:"item-card__secondary mdc-typography mdc-typography--body2"},[t._v("\n                        "+t._s(e.description)+"\n                    ")])]),t._v(" "),a("div",{staticClass:"mdc-card__actions"},[a("div",{staticClass:"mdc-card__action-buttons"},[a("CreateItem",{attrs:{fromLocation:t.location,"edit-mode":"","edit-data":e}},[a("button",{staticClass:"mdc-button mdc-card__action mdc-card__action--button"},[a("span",{staticClass:"mdc-button__label"},[t._v("Modifica")])])])],1),t._v(" "),a("div",{staticClass:"mdc-card__action-icons"},[a("a",{staticClass:"material-icons mdc-icon-button mdc-card__action mdc-card__action--icon add",attrs:{title:"Add"},on:{click:function(a){return t.incrementItem(e)}}},[t._v("\n                            add\n                        ")]),t._v(" "),a("a",{class:["material-icons mdc-icon-button mdc-card__action mdc-card__action--icon remove",{"remove-disabled":0===e.amount}],attrs:{title:"Remove"},on:{click:function(a){return t.decrementItem(e)}}},[t._v("\n                            remove\n                        ")])])])])])}),0)])},[],!1,null,"76c4d77e",null);e.a=_.exports}}]);
//# sourceMappingURL=main~7de422a4.e9f7b58c34a478b8bbe9.js.map